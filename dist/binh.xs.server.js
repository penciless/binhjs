Binh.XSServer=function(n){if(!n||"string"!=typeof n)throw new Error("Must define allowed origin(s) for communication.");const t=n,e={};window.addEventListener("message",function(i){if("*"===t||i.origin===t){const o=i.data||{};(0,e[o.action])(o.data,function(n){n={id:o.id,data:n};i.source.postMessage(n,i.origin)})}},!1),this.on=function(n,i){e[n]=i instanceof Function?i:function(){}},window.parent.postMessage({ready:!0},t)};