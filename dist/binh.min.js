function Binh(n,e){var t,i=Binh,r=new i.State,o="DOMContentLoaded";function s(){t?t(u):u()}function u(){document.removeEventListener(o,s),(e=e||{}).element=e.element||document.body,i.router=new i.Router(n,e)}i.state=function(n){return arguments.length?r.as(n):r},i.onlaunch=function(n){t=Binh.to.func(n)},document.addEventListener(o,s)}!function(){function t(n,e){if(!e)return n?i[n]:i;(n=i[n]=i[n]||[]).length<t.limit&&n.push(e)}Binh.iid=function(){return this.iid++}.bind({iid:0}),Binh.air=function(n){return n=n||"air"+Date.now()+Binh.iid(),Binh.el(n)().css({position:"fixed",width:0,height:0})};var i={},r=(t.limit=10,Binh.error=t,{}),o={};Binh.Q={wait:function(n,e){(r[n]||(r[n]=[])).push(e)},done:function(n,e){if(e instanceof Function?e():e)for(var t=r[n]||(r[n]=[]);t.length;)t.pop()()},on:function(n){o[n]=this.count(n)+1},off:function(n,e){var t=this.count(n)-1,t=Math.max(t,0);o[n]=t,e&&this.check(n)},count:function(n){return o[n]||(o[n]=0)},check:function(n){this.count(n)<=0&&this.done(n,!0)}},window.addEventListener("load",function n(){Binh.loaded=!0;Binh.Q.check("style");window.removeEventListener("load",n)}),document.addEventListener("click",function(n){for(var e,t=n.target;t&&"A"!==t.tagName;)t=t.parentNode;t&&!t.getAttribute("target")&&(e=t.getAttribute("href"))&&(0===e.indexOf("/")?(n.preventDefault(),Binh.Router.navigate(e)):0!==e.indexOf("#")&&0!==e.search(/^\w+:/)&&""!==e&&(n.preventDefault(),(n=location.pathname.split("/")).pop(),n.push(e),Binh.Router.navigate(n.join("/"))))}),Binh.syncSeqMaps=function(n,e,t){t.forEach(Binh.syncSeqMap.bind(null,n,e))},Binh.syncSeqMap=function(n,e,t){if(e[t]||n[t]){var i,r,o=e[t]||{},s=n[t]||{};for(i in s)o[i]=s[i];for(r in o)s[r]=o[r];e[t]=n[t]=s}else e[t]=n[t]={}},Binh.syncSeqArrays=function(n,e,t){t.forEach(Binh.syncSeqArray.bind(null,n,e))},Binh.syncSeqArray=function(n,e,t){var i,r,o,s;e[t]||n[t]?(r=e[t]||[],i=n[t]||[],r=r.concat(i),o={},s=[],r.forEach(function(n){o[n]||s.push(n)}),i.length=0,i.push.apply(i,s),e[t]=n[t]=i):e[t]=n[t]=[]}}(),function(){var u,t=Binh,r=t.Component={},o={},s={},a={},c={},f={};function l(n,e){var t=e instanceof Function?e:function(){},i=document.createElement("script");i.src=n,document.head.appendChild(i),i.remove(),i.onload=function(){var n=u;u=null,n instanceof d?n.loaded=i.onload:t(n)},i.onerror=function(){t()}}function h(n,e){function t(){n&&n.forEach(function(n){n()})}e?setTimeout(t):t()}function d(){}r.create=function(n,e){return a[n](e)},r.define=function(i,n){a[i]=n,t[i]=function(n,e){var t=i;return n&&"string"==typeof n?o.hasOwnProperty(n)?o[n]:e instanceof Function?o[n]=r.create(t,e):o[n]=s[t](n,o):n instanceof Function?u=r.create(t,n):r.create(t,e)}},r.fake=function(n,e){s[n]=e},t.require=l,t.script=function(n,e){t.prequire([n],e),u=null},t.prequire=function(n,e){var i,r,o=n.length,s=e instanceof Function?e:function(){};o?(i=u=new d,r=[],n.forEach(function(n){var e=f[n];function t(){c[n]=!0,--o||(s(),i.loaded&&i.loaded()),h(e),delete f[n]}c[n]?r.push(t):e?e.push(t):(e=f[n]=[],l(n,t))}),r.length&&h(r,!0)):s()}}(),function(){var i="service",n=Binh.Component;n.define(i,function(n){return(e=function(){var n,e=this.func;if(e instanceof Function)return n={service:Binh.service,http:Binh.http,sid:this.sid,state:function(n){var e=n.shared||{usid:Symbol("sv")},t=e.usid;return delete n.shared,e.state=e.state||function(n){return(e.localState||(e.localState=new Binh.State({name:"local"}))).as(n)},function(n){return e.state(arguments.length?n:t)}}(this)},e.apply(n,arguments)}.bind(n={func:n=n})).context=n,e.sid=n.sid=function(n){return n=JSON.stringify(n),this.sids[n]||(this.sids[n]=Symbol(n))}.bind({sids:{}}),e.service=function(n){return n.forEach(Binh.service),e},e;var e}),n.fake(i,function(e,t){Binh.Q.on(i),Binh.require(e,function(n){if(null==n)throw Binh.Q.off(i,!0),new Error("No Service: "+e);t[e]=n,Binh.Q.off(i,!0)})})}(),function(){var t="style",n=Binh.Component;function i(n){var e=this,t=e.id="binh"+Binh.iid();if(null==n)return e;e.rules=[];var i,r,n=n(function(n,e){var t;"string"==typeof n&&(n=n.replace(/\s+/g," "),t="",e instanceof Array&&(t="{"+e.join(";")+"}"),this.rules.push({selector:n,value:t}))}.bind(e)),o=t,s=e.rules,u=s.length;if(u){for(var a=d(o).sheet,c=u-1;0<=c;c--){var f=s[c],l=f.value?f.selector+f.value:f.selector;try{a.insertRule(l)}catch(n){console.log(f.selector,n)}}h(a,o)}i=t,"string"==typeof(u=n)&&((r=d(i+"x")).appendChild(document.createTextNode(u)),p(),r.onload=function(){var n=r.sheet;n&&!n.prefixed&&(h(r.sheet,i),r.onload=null),v()},r.onerror=v),delete e.rules}function h(n,e){!function e(t,i){if(t.prefixed)return;var n;try{n=t.cssRules}catch(n){return(t.timeout=t.timeout||0,200<t.timeout)?Binh.error("css",{error:n,sheet:t}):void setTimeout(function(){t.timeout++,e(t,i)},t.timeout)}var r=n.length,o=i+" ",s=/^:root($|[^\w-])/,u=/:scope($|[^\w-])/g;for(var a=0;a<r;a++){var c=n.item(a);if(c instanceof CSSStyleRule){var f=c.selectorText,l=m(f);l.forEach(function(n,e){l[e]=n.match(u)?n.replace(u," "+i+"$1"):n.match(s)?n:o+n}),c.selectorText=l.join(",")}else if(c instanceof CSSImportRule){var f=c.styleSheet,h=f.refs=t.refs||{};if(h[f.href])continue;e(f,i)}c.cssRules&&e(c,i)}t.prefixed=!0}(n,"."+e)}function d(n){var e=document.createElement(t);return e.id=n,document.head.appendChild(e),e}function r(n,e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=n,t.crossOrigin="",document.head.appendChild(t),p(),e&&(t.id=e,t.onload=function(){t.onload=null,h(t.sheet,e),v()},t.onerror=v)}function p(){Binh.Q.on(t)}function v(n){if(Binh.Q.off(t,Binh.loaded),n)throw n}function m(n){for(var e=[],t="",i=!1,r=0,o=0,s=0;s<n.length;s++){var u=n[s];if('"'===u||"'"===u&&"\\"!==n[s-1])i=!i;else if(!i)if("["===u)r++;else if("]"===u)r--;else if("("===u)o++;else if(")"===u)o--;else if(","===u&&0===r&&0===o){e.push(t.trim()),t="";continue}t+=u}return t.trim()&&e.push(t.trim()),e}n.define(t,function(n){return new i(n)}),n.fake(t,function(n){var e=new i;return r(n=n.replace(/\.css\.js$/,".css"),e.id),e}),Binh.link=function(n){r(n)}}(),function(){var r,o="style",n=Binh.Component;function s(n,e,t){Binh.Q.wait(n,t),e&&Binh.Q.check(n)}function u(n,e){e&&e.style&&e.style.apply(e,n)}function a(n,e,t){var i=this,n=n.apply(0,e);return n instanceof Binh.StateAlias?(i.listeners=i.listeners||[],i.listeners.push({state:n,sid:n.sid,handler:function(n,e){i.useState=function(n,e,t){return t.state?t.state.get():a.call(i,n,e,t)},i.service=function(n){return(e.services||{})[n]||c.call(i,n)};var t=i.UIComp.apply(null,e.args2);i.useState=a,i.service=c,e.swap(t)}}),(t.state=n).get()):(t.state=null,n)}function c(n){var e=n.split("/").pop().split(".")[0],t=this,i=Binh.iid(),r=Symbol("usid:"+t.id+":"+e+":"+i),o=Binh.service(n),s={},u=t.shared||(t.shared={});function a(){return u.usid=r,o.context.shared=u,t.useState(o,arguments,s)}return a.sid=o.sid,a.state=function(n){return u.state=u.state||function(n){return(u.localState||(u.localState=new Binh.State({name:"local"}))).as(n)},u.state(arguments.length?n:r)},t.services=t.services||{},t.services[n]=a}n.define("ui",function(n){return n=n,e={id:Binh.iid(),useState:a,service:c},t={thisUI:e,func:n},(i=function(){var n=this.thisUI,e=this.styles,t=n.useState===a,i=this.func.apply(n,arguments);e instanceof Array&&(i instanceof Array?i.forEach(u.bind(null,e)):u(e,i));i instanceof Array&&(e=new Binh.ElementNode(new DocumentFragment),i.forEach(e),i=e);i&&(i.args2=arguments);t&&i&&(i.services=n.services,Binh.to.array(n.listeners||[],"sid").forEach(function(n){n.state.listen(n.handler,i)}));return delete n.services,delete n.listeners,delete n.shared,s(o,Binh.loaded,function(){clearTimeout(r),r=setTimeout(function(){Binh.state().clean()})}),i}.bind(t)).style=function(n){return t.styles=n,i},i.loadStyles=function(){(t.styles||[]).forEach(Binh.style)},i.service=function(n){return n.forEach(Binh.service),i},i.shared=t.shared={},e.UIComp=i;var e,t,i}),n.fake("ui",function(e,t){var i={fenodes:[],url:e,components:t},n=function(){var n,e=this.components[this.url];return e.fake?((n=Binh.air("fake")).fake=!0,n.args=arguments,this.fenodes.push(n),n):e.apply(null,arguments)}.bind(i);return n.fake=!0,Binh.require(e,function(n){if(null==n)throw new Error("No UI: "+e);(t[e]=n).shared.url=e,n.loadStyles(),s("service",!0,function(n){var r=n.components[n.url];n.fenodes.forEach(function(t){var e=t.element,i=r.apply(null,t.args);i&&(i.url=n.url,t.url=n.url,Binh.syncSeqMap(t,i,"actions"),i.customs&&(t.customs=i.customs),i.styles&&(t.styles=i.styles),s(o,Binh.loaded,function(){function n(){delete t.fake,t.ref(i);for(var n=t,e=n.queue||[];e.length;)e.shift()(n);delete n.queue}i.fake?i.ready(function(){i.queue.push(n)}):n(),t(Array.prototype.slice.call(e.childNodes)),t.class(e.className)}))})}.bind(null,i))}),n})}(),function(){function i(n){function e(){var s=arguments;return f(e,function(n){for(var e=s.length,t=n.element,i=a,r=0;r<e;r++){var o=s[r];i(o)(t,o)}}),e}for(var t in r)e[t]=r[t];return(n.enode=e).element=n,e.constructor=i,e}Binh.ElementNode=i;var r={};function t(n,t,i,r){return f(n,function(n){var e;i instanceof Binh.StateAlias?e=i:i instanceof Function&&i.state instanceof Function?e=i.state():i instanceof Object&&(i=i.sid instanceof Function?i.sid():i.hasOwnProperty("sid")?i.sid:i.sid=Symbol()),(e=e||Binh.state(i))[t](r,n)})}function n(n){for(var e=n.length,t=[],i=0;i<e;i++){var r=n[i];"string"==typeof r&&(r=r.trim())&&t.push.apply(t,r.split(/\s+/))}return t}function e(n,e,t){return f(n,function(n){n=n.element.classList;n&&n[e].apply(n,t)})}function o(e,t,n){return t instanceof Function?t.bind(null,e):function(){n.forEach(function(n){n.toggleClass(t,e)})}}r.set=function(e){return f(this,function(n){(e.enode=n).onref instanceof Function?n.onref(e):n.element=e})},r.ref=function(i){return f(this,function(n){var e=n.onref||i.onref||function n(e){n.enodes.forEach(function(n){n.element=e})},t=e.enodes||(e.enodes=[]);n.onref||t.push(n),i.onref||t.push(i),n.onref=i.onref=e,n.swap(i)})},r.swap=function(r){return f(this,function(n){var e=n.element,t=e.parentNode,i=r.element;t&&t.replaceChild(i,e),n.set(i)})},r.ready=function(n){return f(this,n)},r.emit=function(e){return f(this,function(n){Binh.Util.emitEvent(n.element,e)})},r.on=function(n,t,i){return f(this,function(e){(n instanceof Array?n:[n]).forEach(function(n){e.element.listeners=e.element.listeners||[],e.element.addEventListener(n,t,i),e.element.listeners.push({eventName:n,eventCallback:t})})})},r.off=function(t,i,r){var o=arguments;return f(this,function(n){var e=n.element;if(!o.length&&e&&e.parentNode)return e.parentNode.removeChild(e);(t instanceof Array?t:[t]).forEach(function(n){e.removeEventListener(n,i,r)})})},r.race=function(n,i,r){var o=(""+n).split(" ");return f(this,function(n){var e=n.element;function t(n){o.forEach(function(n){e.removeEventListener(n,t,r)}),r&&r.once||e.addEventListener(n.type,i,r),i(n)}o.forEach(function(n){e.addEventListener(n,t,r)})})},r.when=function(n,e){var t=l(this,"actions",{});if("string"!=typeof n)for(var i in n)n[i]instanceof Function&&(t[i]=n[i]);else e instanceof Function&&(t[n]=e);return this},r.action=function(e){var t=this;return function(){var n=l(t,"actions",{})[e];if(n)return{value:n.apply(null,arguments)}}},r.value=function(e,t){return arguments.length?f(this,function(n){n.element.value=e,"string"==typeof t&&n.emit(t)}):this.element.value},r.listen=function(n,e){return t(this,"listen",n,e)},r.read=function(n,e){return t(this,"read",n,e)},r.request=function(n,e){return t(this,"request",n,e)},r.clone=function(e){var t=new i(document.createElement("clone"));return f(this,function(n){n=new i(n.element.cloneNode(e));t.swap(n)}),t},r.empty=function(){return f(this,function(n){n.element.textContent=""})},r.new=function(){var e=arguments;return f(this,function(n){n.empty().apply(null,e)})},r.css=function(i,r){return f(this,function(n){var e,t=n.element.style;for(e in"string"==typeof i&&((n={})[i]=r,i=[n]),i)0==e.indexOf("--")?t.setProperty(e,i[e]):t[e]=i[e]})},r.style=function(){for(var n=arguments,e=n.length,t=[],i=0;i<e;i++){var r=n[i],r="string"==typeof r?Binh.style(r):r;r&&r.id&&t.push(r.id)}return f(this,function(n){var e=l(n,"styles",[]),e=(e.push.apply(e,t),n.element.classList);e.add.apply(e,n.styles)})},r.nostyle=function(){return f(this,function(n){var e=n.element.classList;e.remove.apply(e,n.styles),n.styles=[]})},r.custom=function(){var i=n(arguments);return f(this,function(n){var e=n.customs||[],t=n.element.classList;t.remove.apply(t,e),t.add.apply(t,i),n.customs=i})},r.class=function(n,e){return 0==e?this.removeClass(n):this.addClass(n),this},r.addClass=function(){return e(this,"add",n(arguments))},r.removeClass=function(){return e(this,"remove",n(arguments))},r.toggleClass=function(){return e(this,"toggle",arguments)},r.each=function(i,r){return f(this,function(n){var e=i&&i.length;r=r instanceof Function?r:function(n){return n};for(var t=0;t<e;t++)n(r(i[t],t,i))})},r.as=function(n,e){if(n instanceof Object)return"string"==typeof e?n[e]=this:n.enode=this,this},r.for=function(n,e){var t=Number.isNaN;if(!t(n)&&null!=n){if(!0===e){var i=n instanceof Array;if((i||"string"==typeof n)&&!n.length)return;if(i){var i=n.filter(function(n){return!(t(n)||null==n)});if(!i.length)return;n=i}}else if(e instanceof Function)return i=e(n,this),this.for(i);return this(n)}},r.resize=function(r){return f(this,function(n){var e={matched:!1,enode:n},t=function(n,e,t){var i=this;n=i.called?i.matched:!!n,i.called=!0,i.matched===n&&!i.called||(i.matched=n,requestAnimationFrame(o(n,e,t)))}.bind(e);function i(){i.wait||(document.contains(n.element)?(i.wait=1,requestAnimationFrame(function(){i.wait=0,e.called=!1,r(t)})):window.removeEventListener("resize",i))}window.addEventListener("resize",i),setTimeout(i)})},r.screen=function(t,i){return f(this,function(e){o(s<=t,i,[e])(),e.resize(function(n){n(s<=t,i,[e])})})};var s=window.innerWidth,u=(window.addEventListener("resize",function(){s=window.innerWidth}),r.route=function(e){return f(this,function(n){n.router=new Binh.Router(e,{enode:n})})},{object:function(e,n){if(null!=n){if(n instanceof Node)return e.appendChild(n);switch(n.constructor){case Array:n.forEach(function(n){a(n)(e,n)});break;case Binh.Router:case DocumentFragment:case Element:e.appendChild(n.element||n);break;default:for(var t in n){var i=n[t];i instanceof Object?e[t]=i:!1===i?e.removeAttribute(t):e.setAttribute(t,i)}}}},function:function(n,e){switch(e.constructor){case i:n.appendChild(e.element);break;case Function:var t=e(n);a(t)(n,t)}},undefined:function(){}});function a(n){return u[typeof n]||c}function c(n,e){try{n.appendChild(document.createTextNode(e))}catch(n){}}function f(n,e){return e instanceof Function&&(n.fake?(n.queue=n.queue||[]).push(e):e(n)),n}function l(n,e,t){return n[e]||(n[e]=t)}var h={};function d(n){var e=Array.prototype.slice.call(arguments,1),t=document.createElement(n);return t.constructor=Element,new i(t).apply(0,e)}function p(n,e){return h[n]||(e=h[n]=d.bind(0,g(n)))&&(e.constructor=d,e)}Binh.el=p,Binh.element=function(){for(var n=arguments,e=n.length;e--;)p(n[e]);return h},Binh.els=h;var v={};function m(n){var e=Array.prototype.slice.call(arguments,1),t=document.createElementNS("http://www.w3.org/2000/svg",n);return t.constructor=Element,new i(t).apply(0,e)}function y(n,e){return v[n]||(e=v[n]=m.bind(0,g(n)))&&(e.constructor=m,e)}function g(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}Binh.svg=y,Binh.svgs=function(){for(var n=arguments,e=n.length;e--;)y(n[e]);return v},Binh.SVGs=v}(),function(){function n(n){this.url=n,this.parameters=[]}var e=(Binh.http=n).prototype,r=(n.defer=function(n){var e,t=Binh.to.args(n,arguments),i=t.length,r=[];r.count=0,r.results=[],r.ready=function(n){this.count++,this.results[n.index]=n,this.count===this.length&&e instanceof Function&&e.apply(null,this.results)};for(var o=0;o<i;o++){var s=t[o];s.defers=s.defers||[],s.defers.push({defer:r,index:o}),r.push(s)}return{done:function(n){return e=n,this}}},e.get=function(n){return this.request("GET",n)},e.post=function(n){return this.request("POST",n)},e.request=function(n,e){var t,i=this.init(e),r=(i.open(n,this.url+this.parameters.join("/")+(this.queries||"")),this.payload&&i.setRequestHeader("Content-Type","application/json"),this.headers);for(t in r)i.setRequestHeader(t,r[t]);return this.token&&i.setRequestHeader("Authorization","Bearer "+this.token),i.responseType="text",i.send(this.payload),this},e.init=function(n){var t=this,i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return i.onreadystatechange=function(){if(i.readyState==XMLHttpRequest.DONE){var e;try{e=JSON.parse(i.responseText)}catch(n){e=i.responseText}n instanceof Function&&o(t,function(){n(e,i)}),t.defers instanceof Array&&o(t,function(){t.defers.forEach(function(n){n.defer.ready({response:e,xhttp:i,index:n.index})})})}},i},e.auth=function(n){return n&&(this.token=n),this},e.header=function(n){return this.headers=n,this},e.body=function(n){return this.payload=JSON.stringify(n),this},e.parameter=function(n){var e;return n instanceof Array&&(e=this.url[this.url.length-1],this.parameters=("/"===e?[]:[""]).concat(n)),this},e.query=function(n){var e,t="";for(e in n)t+=e+"="+n[e]+"&";return this.queries="?"+t,this},function(){});function o(n,e){for(var t=Binh.to.array(n.states);t.length;){var i=t[0];if(!i.isSet()){i.read(function(){o(n,e)});break}t.shift()}t.length||((n.states||[]).forEach(function(n){n.unread(r)}),e())}e.state=function(n){return this.states=Binh.to.args(n,arguments),this.states.forEach(function(n){n.read(r)}),this}}(),function(){var n=Binh.Polyfill={};window.Symbol=window.Symbol||function(n){var e="."+Date.now()+Binh.iid();try{return n+e}catch(n){return e}},n.getOwnPropertySymbols=function(n){return[]},Object.getOwnPropertySymbols=Object.getOwnPropertySymbols||n.getOwnPropertySymbols}(),function(){function t(n,e){var r,o,s,u=this,a=i(n=n||{}),e=e||{},c=Binh.Util.domced,f=(u.enode=e.enode||Binh.ElementNode(e.element||document.createElement("div")),u.element=u.enode.element,u.constructor=t,u.getParameters=function(){return r},u.load=function(n){var e,t,i;c(u)?null==(e=(t=l(a)).component)?(o=e,u.enode.empty()):(r=t.parameters,t=!(n instanceof Event),n=e!==o,i=JSON.stringify(s)!==JSON.stringify(r),(n||i||t)&&(s=r,d=!0,p[typeof(o=e)](e,u))):(window.removeEventListener("popstate",f),window.removeEventListener("load",f))});window.addEventListener("popstate",f),window.addEventListener("load",f),h&&(h(),h=null),u.load()}function i(n){var e,t=[];for(e in n)t.push({route:e,segments:e.split("/"),component:n[e]});return t.sort(function(n,e){return e.segments.length-n.segments.length||e.route.localeCompare(n.route)}),t}function l(n){var e,t=location.pathname.split("/"),i={};for(e in n){var r=n[e],o=r.segments;if(!(t.length<o.length)){for(var s=!0,u=0;u<o.length;u++){var a=o[u],c=t[u];if(a.match(/^:/))i[a.slice(1)]=c;else if(t.indexOf(a)!==u){s=!1,i={};break}}if(s)return{component:r.component,parameters:i}}}return{}}Binh.Router=t;var h,d,e=function(){};function n(){if(!n.init)return n.init=!0;e()}window.addEventListener("popstate",n),window.addEventListener("load",n),t.onroute=function(n){n instanceof Function&&(e=h=n)},t.navigate=function(n,e){var t=location.href.replace(location.origin,"");t===n||(d=!1,history.pushState(e||{},"",n),Binh.Util.emitEvent(window,"load"),d)||history.replaceState(e||{},"",t)},t.match=function(n){var e={};return e[n]=!0,!!l(i(e)).component},t.matchParam=function(n){var e={};return e[n]=!0,l(i(e)).parameters},t.query=function(e){e=e||{};var t,i=[],r=JSON.stringify;return location.search.substring(1).split("&").forEach(function(n){if(!1!==e.decode)try{n=decodeURIComponent(n)}catch(n){}t=n.split("="),i.push(r(t.shift())+":"+r(t.join("=")))}),JSON.parse("{"+i.join(",")+"}")};var p={string:function(n,e){n=Binh.ui(n);p.function(n,e)},number:function(n,e){e.element.appendChild(document.createTextNode(n))},function:function(n,e){n=n.element||n(e.getParameters());if("string"==typeof n)return this.string(n,e);(n instanceof Node||n instanceof Array||(n=n&&n.element)instanceof Node)&&(e.element=e.enode.empty()(n).element)},undefined:function(){}}}(),Binh.State=function(n){var e,o=this,t={},s=Binh.StateAlias;function u(n){return t[n]||(t[n]={})}function i(n,e){var t,i,r=n[e];r&&(t=Binh.Util.domced,i=n[e]=[],r.forEach(function(n){t(n.enode)&&i.push(n)}),i.length||delete n[e])}function r(e,n){var t=e[n];e[n]=[],t.forEach(function(n){n.handler(e.value,n.enode),n.invoked=!0}),e[n]=t.concat(e[n])}function a(n,e,t){n.emit&&e instanceof Function&&e(n.value,t)}o._name=(n=n||{}).name,o.get=function(n,e){var t=u(n);return t.emit||void 0===e||o.set(n,e),t.value},o.set=function(n,e){var t=u(n);return t.value=e,o.emitLater(n,t),this},o.edit=function(n,e){var t=u(n),i=t.value;return e instanceof Function?t.value=e(i):i instanceof Object&&e instanceof Object?Object.assign(i,e):t.value=e,o.emitLater(n,t),this},o.emitLater=function(n,e){e.set=!0,clearTimeout(e.emitId),e.emitId=setTimeout(function(){delete e.emitId,e.emit=!0,o.emit(n,e)})},o.emit=function(n,e){i(e=e||u(n),"listeners"),i(e,"readers"),e.listeners&&r(e,"listeners"),e.readers&&(r(e,"readers"),e.readers=e.readers.filter(function(n){return!n.invoked}))},o.clean=function(){clearTimeout(e),e=setTimeout(function(){Binh.to.keys(t).forEach(function(n){n=u(n);i(n,"listeners"),i(n,"readers")})})},o.listen=function(n,e,t){var i=u(n),r={enode:t,handler:e};return(i.listeners||(i.listeners=[])).push(r),o.update(n,i),a(i,e,t),r},o.request=function(n,e,t){var i;e instanceof Function&&((i=u(n)).debounce?e(i.value,t):((i.readers||(i.readers=[])).push({enode:t,handler:e}),o.update(n,i)))},o.read=function(n,e,t){var i=u(n);i.emit?a(i,e,t):o.request(n,e,t)},o.serve=function(n,e){var t,i=u(n);e instanceof Function&&(i.fetch=e,e=i.listeners||[],t=i.readers||[],e.length||t.length)&&o.update(n,i)},o.update=function(e,t){(t=t||u(e)).fetch instanceof Function&&!t.fetching&&!t.debounce&&(t.fetching=!0,t.fetch(function(n){t.debounce=!0,t.emit=!0,o.set(e,n),t.fetching=!1,setTimeout(function(){delete t.debounce},3e3)}))},o.as=function(n){var e=u(n);if(e.as)return e.as;var t,i=e.as=new s(n);for(t in o){var r=o[t];r instanceof Function?i[t]=r.bind(i,n):i[t]=r}return i.as=o.as,i},o.has=function(n){return t.hasOwnProperty(n)},o.isSet=function(n){return o.has(n)&&!0===u(n).set},o.isAs=function(n){return n instanceof s},o.onSet=function(n){var e;return!!o.isSet(n)||(e=(n=u(n)).onSet,n.onSet=!0,e)},o.store=function(){return t}},Binh.StateAlias=function(n){this.sid=n},function(){function e(){}Binh.Util={emitEvent:function(n,e){var t;document.createEvent?("function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!1,!0),n.dispatchEvent(t)):((t=document.createEventObject()).eventName=t.eventType=e,n.fireEvent("on"+t.eventType,t))},domced:function(n){var e=n&&n.element instanceof Node,t=document.contains(n&&n.element),i=n&&n.domed;return n&&(n.domed=!0),!(e&&i&&!t)},require:function(n){return n.replace(/^@\//,"/").replace(/^@/,"/").replace(/\.js$/,"")+".js"}},Binh.r=Binh.Util.require,Binh.to={func:function(n){return n instanceof Function?n:e},array:function(n){return null==n?[]:n instanceof Array?n:Array.prototype.slice.call(n)},args:function(n,e){return n instanceof Array?n:Binh.to.array(e)},unique:function(n,e){if(!(n instanceof Array))return n;var t,i={},r=[],o=[];for(t in n){var s=n[t],u=s&&s[e];i.hasOwnProperty(u)||r.push(u),i[u]=s}return r.forEach(function(n){o.push(i[n])}),o},keys:function(n){var e,t=[];for(e in n)t.push(e);return t.push.apply(t,Object.getOwnPropertySymbols(n)),t}}}();