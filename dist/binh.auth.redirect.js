!function(){function t(t){var e,n,o;sessionStorage.hasOwnProperty("authRedirected")||(sessionStorage.setItem("authRedirected",!0),n=(n=localStorage.getItem("auth"))?(e=n.exp<Date.now()/1e3?"expired":"valid",n.id):(e="none",""),o=encodeURIComponent(window.location.toString()),window.location=t+"&userID="+n+"&status="+e+"&reURL="+o)}(Binh.Auth=t).RedirectHandler=function(t){var{status:e,token:n,reURL:o}=Binh.Router.query()||{};function a(){try{var{origin:t,href:e}=new URL(o);if(window.location.origin!==t)return Binh.Router.navigate("/");var n=e.replace(t,"");Binh.Router.navigate(n)}catch(t){Binh.Router.navigate("/")}}return function(){switch(e){case"in":a();break;case"new":localStorage.removeItem("auth"),new Binh.http("http://localhost:1301/v1/rauth/testCustomTokenAPI").auth(n).get(function(t){"string"==typeof t&&t.length&&localStorage.setItem("auth",function(t){try{return atob(t.split(".")[1])}catch(t){return null}}(t)),a()});break;default:localStorage.removeItem("auth"),a()}}}}();